# ğŸ‘ï¸ GUIA VISUAL - Como Verificar Dados Reais

## ğŸ¯ INDICADOR VISUAL NO APP

### **LocalizaÃ§Ã£o**

O indicador aparece **automaticamente** no canto inferior direito da tela:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         â”‚
â”‚         Seu App de Surf                 â”‚
â”‚                                         â”‚
â”‚                                         â”‚
â”‚                                         â”‚
â”‚                                         â”‚
â”‚                                         â”‚
â”‚                                         â”‚
â”‚                                         â”‚
â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                              â”‚ 12/14  â”‚ â”‚ â† AQUI!
â”‚                              â”‚   âœ…   â”‚ â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± VERSÃƒO MINIMIZADA (PadrÃ£o)

### **Visual:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒŠ 12/14  âœ… â”‚  â† Pequeno badge flutuante
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Significado:**

| Elemento | Significado |
|----------|-------------|
| `ğŸŒŠ` | Ãcone de ondas (PNBOIA) |
| `12/14` | 12 de 14 boias ativas |
| `âœ…` | Status OK (dados reais) |

### **Cores:**

- ğŸŸ¢ **Verde** = Excelente (â‰¥80% dados reais)
- ğŸŸ¡ **Amarelo** = AceitÃ¡vel (50-80% dados reais)
- ğŸ”´ **Vermelho** = Problema (<50% ou erro)
- ğŸŸ¡ **Amarelo animado** = Sincronizando...

---

## ğŸ“Š VERSÃƒO EXPANDIDA (Clique no badge)

### **Visual Completo:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒŠ Boias PNBOIA              ğŸ”½     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Status:        âœ… Dados Reais       â”‚
â”‚ Boias ativas:  12/14 (86%)          â”‚
â”‚ Ãšltima sync:   15min atrÃ¡s          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘  86%           â”‚ â† Barra de progresso
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… PrevisÃµes usando dados reais     â”‚
â”‚    das boias da Marinha do Brasil   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ ForÃ§ar Sync ]    [ Fechar ]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **InterpretaÃ§Ãµes:**

#### **âœ… EXCELENTE (Verde):**

```
Status:        âœ… Dados Reais
Boias ativas:  13/14 (93%)
Ãšltima sync:   5min atrÃ¡s

â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  93%

âœ… PrevisÃµes usando dados reais
   das boias da Marinha do Brasil
```

**Significa:** Sistema funcionando perfeitamente! ğŸ‰

---

#### **âš ï¸ PARCIAL (Amarelo):**

```
Status:        âš ï¸ Parcial
Boias ativas:  9/14 (64%)
Ãšltima sync:   1h atrÃ¡s

â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘  64%

âš ï¸ Algumas boias offline, usando 
   dados parciais
```

**Significa:** Algumas boias temporariamente offline, mas maioria funcionando.

---

#### **âŒ PROBLEMA (Vermelho):**

```
Status:        âŒ Offline
Boias ativas:  3/14 (21%)
Ãšltima sync:   3h atrÃ¡s

â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  21%

âŒ Maioria das boias offline,
   verificar sistema
```

**Significa:** Problema! Investigar logs.

---

#### **ğŸ”„ SINCRONIZANDO (Amarelo animado):**

```
Status:        ğŸ”„ Sincronizando...
Boias ativas:  ?/14
Ãšltima sync:   Agora

â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  ?%

â³ Aguarde, buscando dados...
```

**Significa:** Sistema coletando dados neste momento (2-3 minutos).

---

## ğŸ” CONSOLE DO NAVEGADOR

### **Como Abrir:**

1. **Windows/Linux:** Pressione `F12`
2. **Mac:** Pressione `Cmd + Option + I`
3. Clique na aba **Console**

### **O que Procurar:**

#### **âœ… SUCESSO - Dados Reais:**

```
ğŸŒŠ PNBOIA: Iniciando sincronizaÃ§Ã£o automÃ¡tica...
ğŸ” PNBOIA: Sincronizando em https://xxx.supabase.co/...
âœ… PNBOIA: SincronizaÃ§Ã£o concluÃ­da com sucesso
   Boias ativas: 12/14
   Taxa de sucesso: 86%
```

**Scroll para ver mais detalhes:**

```
ğŸŒŠ Iniciando scraping para boia: pnboia-florianopolis
ğŸ” Tentando API GOOS Brasil...
âœ… Dados obtidos da API GOOS para FlorianÃ³polis
   Hs: 1.35m | Tp: 8.5s | Dir: 125Â°
```

---

#### **âš ï¸ PARCIAL - Alguns Erros:**

```
ğŸŒŠ PNBOIA: Iniciando sincronizaÃ§Ã£o automÃ¡tica...
âœ… PNBOIA: SincronizaÃ§Ã£o concluÃ­da com sucesso
   Boias ativas: 9/14
   Taxa de sucesso: 64%

âš ï¸ Algumas boias nÃ£o responderam
```

**Investigar quais falharam:**

```
âŒ pnboia-natal: Timeout apÃ³s 30s
âš ï¸ pnboia-recife: API offline, usando mock
âœ… pnboia-florianopolis: OK (API)
âœ… pnboia-santos: OK (Scraping)
```

---

#### **âŒ ERRO - NÃ£o Funcionou:**

```
ğŸŒŠ PNBOIA: Iniciando sincronizaÃ§Ã£o automÃ¡tica...
âŒ PNBOIA: Erro na sincronizaÃ§Ã£o: Failed to fetch
```

**PossÃ­veis causas:**

1. Backend nÃ£o estÃ¡ rodando
2. Credenciais incorretas
3. Problema de rede/CORS

---

## ğŸ§ª TESTE RÃPIDO (3 Passos)

### **Passo 1: Abrir o App**

Acesse seu site de surf.

---

### **Passo 2: Ver o Indicador**

Olhe no **canto inferior direito** da tela.

**VÃª um badge com ğŸŒŠ e nÃºmeros?** âœ… Sistema instalado!

**NÃ£o vÃª nada?** âŒ Componente nÃ£o foi adicionado ao App.tsx

---

### **Passo 3: Interpretar a Cor**

| Cor | Status | AÃ§Ã£o |
|-----|--------|------|
| ğŸŸ¢ Verde | Excelente | Nada! EstÃ¡ perfeito! |
| ğŸŸ¡ Amarelo | Parcial/Sincronizando | Aguardar ou verificar logs |
| ğŸ”´ Vermelho | Problema | Abrir console e investigar |

---

## ğŸ“ TESTE EM UM PICO

### **Passo 1: Acessar Pico PrÃ³ximo a Boia**

Picos de teste recomendados:

**FlorianÃ³polis (Boia PNBOIA-FlorianÃ³polis):**
- Joaquina
- Praia Mole  
- Santinho

**Santos (Boia PNBOIA-Santos):**
- Santos - JosÃ© Menino
- GuarujÃ¡ - Pitangueiras

---

### **Passo 2: Abrir Console**

Pressione `F12` â†’ Aba **Console**

---

### **Passo 3: Procurar por Bias Correction**

#### **âœ… FUNCIONANDO - VÃª isso:**

```
ğŸŒŠ Carregando previsÃ£o para Joaquina...
âœ… Boia prÃ³xima encontrada: pnboia-florianopolis (18.2 km)
ğŸŒŠ PNBOIA BIAS CORRECTION ATIVO
   Open-Meteo prevÃª: 1.35m
   Boia mediu: 1.15m
   Fator de correÃ§Ã£o: 0.85
   âœ… PrevisÃ£o corrigida: 1.15m
```

**Sistema estÃ¡ usando dados REAIS!** ğŸ‰

---

#### **âš ï¸ SEM BIAS CORRECTION - VÃª isso:**

```
ğŸŒŠ Carregando previsÃ£o para Jericoacoara...
âš ï¸ Nenhuma boia prÃ³xima encontrada (raio 300km)
   Usando apenas dados Open-Meteo
```

**Normal!** Nem todos os picos tÃªm boia prÃ³xima.

---

#### **âŒ PROBLEMA - VÃª isso:**

```
ğŸŒŠ Carregando previsÃ£o para Joaquina...
âœ… Boia prÃ³xima encontrada: pnboia-florianopolis (18.2 km)
âš ï¸ Dados da boia muito antigos (>6h)
   Bias correction desabilitado
```

**AÃ§Ã£o:** Sincronizar manualmente clicando em "ForÃ§ar Sync" no indicador.

---

## ğŸ”§ AÃ‡Ã•ES RÃPIDAS

### **1. ForÃ§ar SincronizaÃ§Ã£o**

```
1. Clicar no badge ğŸŒŠ 12/14 âœ…
2. Clicar em [ ForÃ§ar Sync ]
3. Aguardar 2-3 minutos
4. Verificar resultado
```

---

### **2. Ver Detalhes Completos no Console**

```
1. Abrir Console (F12)
2. Copiar todo o cÃ³digo de: /docs/TEST_DADOS_REAIS_CONSOLE.js
3. Colar no console
4. Pressionar ENTER
5. Ver relatÃ³rio completo
```

---

### **3. Verificar Status de Boia EspecÃ­fica**

```javascript
// Cole no console (substitua credenciais)
const projectId = 'SEU_PROJECT_ID';
const anonKey = 'SUA_ANON_KEY';

fetch(`https://${projectId}.supabase.co/functions/v1/make-server-2d5da22b/pnboia/pnboia-florianopolis`, {
  method: 'GET',
  headers: { 'Authorization': `Bearer ${anonKey}` }
})
.then(r => r.json())
.then(data => {
  console.log('ğŸŒŠ Boia de FlorianÃ³polis:');
  console.log(`   Hs: ${data.latestReading.waveHeight}m`);
  console.log(`   Tp: ${data.latestReading.wavePeriod}s`);
  console.log(`   Dir: ${data.latestReading.waveDirection}Â°`);
  console.log(`   AtualizaÃ§Ã£o: ${new Date(data.latestReading.timestamp).toLocaleString('pt-BR')}`);
});
```

---

## âœ… CHECKLIST DE VERIFICAÃ‡ÃƒO

### **Visual (No App):**

- [ ] Vejo badge ğŸŒŠ no canto inferior direito
- [ ] Badge mostra nÃºmero de boias (ex: 12/14)
- [ ] Badge tem cor verde ou amarelo
- [ ] Ao clicar, abre painel expandido
- [ ] Painel mostra taxa de sucesso >80%
- [ ] Mensagem diz "dados reais"

### **Console:**

- [ ] Console mostra "PNBOIA: Iniciando sincronizaÃ§Ã£o"
- [ ] ApÃ³s 2-3 min: "SincronizaÃ§Ã£o concluÃ­da"
- [ ] Taxa de sucesso >80%
- [ ] Maioria das boias com fonte "API" ou "Scraping"
- [ ] Poucos ou zero com fonte "Mock"

### **Pico com Boia:**

- [ ] Ao acessar Joaquina (ou outro pico prÃ³ximo)
- [ ] Console mostra "BIAS CORRECTION ATIVO"
- [ ] PrevisÃ£o foi ajustada com base na boia
- [ ] Dados parecem realistas

### **Resultado:**

- [ ] **TODOS marcados:** Sistema 100% funcional! ğŸ‰
- [ ] **Maioria marcados:** Sistema funcionando bem âœ…
- [ ] **Poucos marcados:** Investigar problemas âš ï¸

---

## ğŸ¨ EXEMPLOS VISUAIS

### **Badge Verde (Excelente):**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒŠ 13/14  âœ… â”‚  â† Verde = >80% dados reais
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Badge Amarelo (Parcial):**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒŠ 9/14  âš ï¸  â”‚  â† Amarelo = 50-80% dados reais
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Badge Vermelho (Problema):**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒŠ 3/14  âŒ  â”‚  â† Vermelho = <50% ou erro
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Badge Amarelo Animado (Sincronizando):**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒŠ ?/14  ğŸ”„  â”‚  â† Animado = Buscando dados
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ†˜ TROUBLESHOOTING VISUAL

### **Problema: "NÃ£o vejo o badge"**

**Verificar:**

```
1. App.tsx tem import de PNBOIAStatusIndicator?
2. App.tsx tem <PNBOIAStatusIndicator /> antes do </div>?
3. Hook usePNBOIAAutoSync estÃ¡ sendo chamado?
4. Zoom do navegador estÃ¡ em 100%?
5. Scroll atÃ© o final da pÃ¡gina (badge Ã© fixo, mas pode estar escondido)
```

---

### **Problema: "Badge sempre vermelho"**

**Verificar no console:**

```
F12 â†’ Console â†’ Procurar por:

âŒ PNBOIA: Erro na sincronizaÃ§Ã£o: [mensagem de erro]

Causas comuns:
1. Backend nÃ£o estÃ¡ rodando
2. Credenciais incorretas
3. CORS bloqueando requests
4. API GOOS e site da Marinha offline
```

---

### **Problema: "Badge amarelo hÃ¡ muito tempo"**

**Verificar:**

```
1. Clicar no badge
2. Ver "Ãšltima sync"
3. Se >3 horas: Clicar em "ForÃ§ar Sync"
4. Se ainda amarelo apÃ³s sync: Ver logs do console
```

---

## ğŸ“š DOCUMENTAÃ‡ÃƒO RELACIONADA

- ğŸ“˜ **Guia Completo:** `/docs/COMO_VERIFICAR_DADOS_REAIS.md`
- ğŸ“— **Script de Teste:** `/docs/TEST_DADOS_REAIS_CONSOLE.js`
- ğŸ“™ **Dados Reais:** `/docs/PNBOIA_DADOS_REAIS.md`
- ğŸ“• **ImplementaÃ§Ã£o:** `/docs/PNBOIA_IMPLEMENTACAO_COMPLETA.md`
- ğŸ“– **Este Guia:** `/docs/GUIA_VISUAL_VERIFICACAO.md`

---

**Criado em:** 07/11/2025  
**VersÃ£o:** 1.0  
**Status:** âœ… Sistema visual implementado
